{% extends 'base.html' %}
{% load static %}

{% block style %}
<link rel="stylesheet" type="text/css" href="{% static 'loggining/css/loggining.css' %}">
<script src="https://kit.fontawesome.com/8a28303197.js" crossorigin="anonymous"></script>
{% endblock %}

{% block title%}
Вход
{% endblock%}

{% block content%}
<div class="pt-4 px-3 min-vh-100" style="background-color: #607992;">
    <a href="{% url 'index' %}" class="btn btn-lg btn-custom-dark shadow text-white ml-lg-5"><i class="fas fa-arrow-alt-circle-left mr-2"></i>На главную</a>
    <form class="form-signin text-center bg-white rounded shadow mx-auto mt-4 px-5 py-3" method="POST" action="" style="max-width: 460px;">
        {% csrf_token%}
        <i class="fas fa-door-open fa-3x mb-1" style="color: #34414e;"></i>
        <h1 class="h3 mb-3 font-weight-normal">Вход</h1>

        <div class="input-group mb-2">
            <input type="text" name="username" class="form-control"autofocus="" required>
        </div>
        <div class="input-group mb-3">
            <input type="password" name="password" class="form-control" required>
        </div>
        <div class="px-lg-4">
            <button class="btn btn-lg btn-block btn-custom-dark mb-2 text-white" type="submit">Войти</button>
        </div>

        {% for message in messages %}
        <div class="alert alert-danger mt-2" id="success-danger">
            <strong>{{ message }}</strong>
        </div>
        {% endfor %}

        <div>
            <a href="{% url 'register' %}">Еще нет аккаунт?</a> или
            <a href="{% url 'reset_password' %}">Забыли пароль?</a> 
        </div>
        <div>

        </div>
    </form>
</div>
{% endblock%}

{% block script %}
<script type="text/javascript">
    var form_fields = document.getElementsByTagName('input')
    form_fields[1].placeholder = 'Логин...';
    form_fields[2].placeholder = 'Пароль...';

    for (var field in form_fields) {
        form_fields[field].className += ' form-control'
    }

    $(window).on("load", info);
    function info() {
        $("#success-danger").fadeTo(10000, 500).slideUp(500, function () {
            $("#success-danger").slideUp(500);
        });
    }
</script>
{% endblock %}